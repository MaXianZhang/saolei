{
    "version": 3,
    "sources": [
        "../../../src/home/model/database.js"
    ],
    "names": [
        "getData",
        "readFileSync",
        "writeData",
        "data",
        "writeFileSync",
        "handle",
        "type",
        "id",
        "content",
        "currentData",
        "JSON",
        "parse",
        "data_sig",
        "think",
        "model",
        "base"
    ],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;AACA;;;;;;;;;;;;;;kBAGCA,O,sBAAU;AACT,SAAO,aAAGC,YAAH,CAAgB,+BAAhB,CAAP;AACA,E;;kBAEDC,S,sBAAUC,I,EAAM;AACfA,SAAO,yBAAeA,IAAf,CAAP;AACA,eAAGC,aAAH,CAAiB,+BAAjB,EAAiDD,IAAjD;AACA,E;;kBAEDE,M,mBAAOC,I,EAAKC,E,EAAGC,O,EAAS;AACvB,MAAIC,cAAcC,KAAKC,KAAL,CAAW,KAAKX,OAAL,EAAX,CAAlB;;AAEA,UAAQM,IAAR;AACC,QAAK,KAAL;AACC,QAAGC,EAAH,EAAM;AACL;AACA,YAAO,EAACA,IAAGA,EAAJ,EAAOK,UAASH,YAAYF,EAAZ,CAAhB,EAAP;AACA;AACA,KAJD,MAIM;AACL,YAAOE,WAAP;AACA;AACA;AACF,QAAK,MAAL;AACC,QAAIF,EAAJ,EACAE,YAAYF,EAAZ,IAAkBC,OAAlB;AACA;AACD,QAAK,KAAL;AACC,QAAID,MAAM,CAACE,YAAYF,EAAZ,CAAX,EACAE,YAAYF,EAAZ,IAAkBC,OAAlB;AACA;AACD,QAAK,QAAL;AACC,WAAOC,YAAYF,EAAZ,CAAP;AACA;AApBF;;AAuBA,OAAKL,SAAL,CAAeO,WAAf;AACA,SAAOA,WAAP;AACA,E;;;EAtC2BI,MAAMC,KAAN,CAAYC,I",
    "file": "../../../src/home/model/database.js",
    "sourcesContent": [
        "'use strict';\nimport fs from 'fs'\n\nexport default class extends think.model.base {\n\tgetData() {\n\t\treturn fs.readFileSync('www/static/data/datafile.json');\n\t}\n\n\twriteData(data) {\n\t\tdata = JSON.stringify(data);\n\t\tfs.writeFileSync('www/static/data/datafile.json',data);\n\t}\n\n\thandle(type,id,content) {\n\t\tlet currentData = JSON.parse(this.getData());\n\n\t\tswitch (type) {\n\t\t\tcase \"GET\":\n\t\t\t\tif(id){\n\t\t\t\t\t// console.log(currentData);\n\t\t\t\t\treturn {id:id,data_sig:currentData[id]};\n\t\t\t\t\tbreak;\n\t\t\t\t}else {\n\t\t\t\t\treturn currentData;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tcase \"POST\":\n\t\t\t\tif (id)\n\t\t\t\tcurrentData[id] = content;\n\t\t\t\tbreak;\n\t\t\tcase \"PUT\":\n\t\t\t\tif (id && !currentData[id])\n\t\t\t\tcurrentData[id] = content;\n\t\t\t\tbreak;\n\t\t\tcase \"DELETE\":\n\t\t\t\tdelete currentData[id];\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tthis.writeData(currentData);\n\t\treturn currentData;\n\t}\n}"
    ]
}